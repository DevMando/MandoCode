@using Spectre.Console

@code {
    [Parameter]
    public string Text { get; set; } = "> ";

    [Parameter]
    public EventCallback<string> OnSubmit { get; set; }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await GetInputAsync();
        }
    }

    private async Task GetInputAsync()
    {
        AnsiConsole.Write(Text);
        var input = Console.ReadLine();

        if (!string.IsNullOrEmpty(input))
        {
            await OnSubmit.InvokeAsync(input);

        }
    }
}
